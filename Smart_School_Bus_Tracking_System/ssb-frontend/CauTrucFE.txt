# üöå SMART SCHOOL BUS TRACKING SYSTEM (SSB 1.0) - C·∫§U TR√öC REACT FRONTEND

## 1Ô∏è‚É£. C·∫§U TR√öC TH∆Ø M·ª§C REACT CHU·∫®N

```
Smart_School_Bus_Tracking_System/
‚îú‚îÄ‚îÄ public/                                    # ch·ª©a c√°c file tƒ©nh (index.html, favicon, images)
‚îÇ   ‚îú‚îÄ‚îÄ index.html
‚îÇ   ‚îú‚îÄ‚îÄ favicon.ico
‚îÇ   ‚îî‚îÄ‚îÄ images/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ assets/                               # ch·ª©a h√¨nh ·∫£nh, icons, fonts tƒ©nh
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ images/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ icons/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ fonts/
‚îÇ   ‚îú‚îÄ‚îÄ components/                           # ch·ª©a c√°c component t√°i s·ª≠ d·ª•ng
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ common/                          # component chung (Button, Modal, Loading...)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ forms/                           # component form (LoginForm, RegisterForm...)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ui/                              # component UI (Card, Table, Chart...)
‚îÇ   ‚îú‚îÄ‚îÄ context/                             # ch·ª©a React Context cho state management
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AuthContext.jsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ BusContext.jsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ NotificationContext.jsx
‚îÇ   ‚îú‚îÄ‚îÄ hooks/                               # ch·ª©a custom hooks
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useAuth.js
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useApi.js
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ useLocalStorage.js
‚îÇ   ‚îú‚îÄ‚îÄ pages/                               # ch·ª©a c√°c trang ch√≠nh c·ªßa ·ª©ng d·ª•ng
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Auth/                           # module x√°c th·ª±c
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Login.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Register.jsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Admin/                          # module qu·∫£n tr·ªã vi√™n
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Dashboard.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ BusManagement.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ DriverManagement.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ScheduleManagement.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RouteManagement.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ StudentManagement.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Reports.jsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Driver/                         # module t√†i x·∫ø
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Dashboard.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Schedule.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Trip.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Incident.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ History.jsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Parent/                         # module ph·ª• huynh
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ Home.jsx
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ History.jsx
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ Notifications.jsx
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ Profile.jsx
‚îÇ   ‚îú‚îÄ‚îÄ router/                              # ch·ª©a c·∫•u h√¨nh routing
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AppRouter.jsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AdminRouter.jsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ DriverRouter.jsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ParentRouter.jsx
‚îÇ   ‚îú‚îÄ‚îÄ services/                            # ch·ª©a c√°c API calls v√† business logic
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api.js
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ authService.js
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ busService.js
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ notificationService.js
‚îÇ   ‚îú‚îÄ‚îÄ utils/                               # ch·ª©a c√°c h√†m ti·ªán √≠ch
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ constants.js
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ helpers.js
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ validators.js
‚îÇ   ‚îú‚îÄ‚îÄ layouts/                             # ch·ª©a c√°c layout component
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AdminLayout.jsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ DriverLayout.jsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ParentLayout.jsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ AuthLayout.jsx
‚îÇ   ‚îú‚îÄ‚îÄ App.jsx                             # component g·ªëc c·ªßa ·ª©ng d·ª•ng
‚îÇ   ‚îî‚îÄ‚îÄ index.js                            # entry point c·ªßa ·ª©ng d·ª•ng
‚îú‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ tailwind.config.js
‚îî‚îÄ‚îÄ README.md
```

---

## 2Ô∏è‚É£. FILE ROUTER CH√çNH ‚Äì AppRouter.jsx

```jsx
import React from 'react';
import { BrowserRouter, Routes, Route, Navigate } from 'react-router-dom';
import { useAuth } from '../hooks/useAuth';

// Import Layouts
import AdminLayout from '../layouts/AdminLayout';
import DriverLayout from '../layouts/DriverLayout';
import ParentLayout from '../layouts/ParentLayout';
import AuthLayout from '../layouts/AuthLayout';

// Import Auth Pages
import Login from '../pages/Auth/Login';
import Register from '../pages/Auth/Register';

// Import Admin Pages
import AdminDashboard from '../pages/Admin/Dashboard';
import BusManagement from '../pages/Admin/BusManagement';
import DriverManagement from '../pages/Admin/DriverManagement';
import ScheduleManagement from '../pages/Admin/ScheduleManagement';
import RouteManagement from '../pages/Admin/RouteManagement';
import StudentManagement from '../pages/Admin/StudentManagement';
import Reports from '../pages/Admin/Reports';

// Import Driver Pages
import DriverDashboard from '../pages/Driver/Dashboard';
import DriverSchedule from '../pages/Driver/Schedule';
import Trip from '../pages/Driver/Trip';
import Incident from '../pages/Driver/Incident';
import DriverHistory from '../pages/Driver/History';

// Import Parent Pages
import ParentHome from '../pages/Parent/Home';
import ParentHistory from '../pages/Parent/History';
import Notifications from '../pages/Parent/Notifications';
import ParentProfile from '../pages/Parent/Profile';

// Protected Route Component
const ProtectedRoute = ({ children, requiredRole }) => {
  const { user, isAuthenticated } = useAuth();
  
  if (!isAuthenticated) {
    return <Navigate to="/login" replace />;
  }
  
  if (requiredRole && user?.role !== requiredRole) {
    return <Navigate to="/unauthorized" replace />;
  }
  
  return children;
};

const AppRouter = () => {
  return (
    <BrowserRouter>
      <Routes>
        {/* Public Routes - Authentication */}
        <Route path="/login" element={
          <AuthLayout>
            <Login />
          </AuthLayout>
        } />
        <Route path="/register" element={
          <AuthLayout>
            <Register />
          </AuthLayout>
        } />

        {/* Admin Routes */}
        <Route path="/admin" element={
          <ProtectedRoute requiredRole="admin">
            <AdminLayout />
          </ProtectedRoute>
        }>
          <Route index element={<Navigate to="/admin/dashboard" replace />} />
          <Route path="dashboard" element={<AdminDashboard />} />
          <Route path="buses" element={<BusManagement />} />
          <Route path="drivers" element={<DriverManagement />} />
          <Route path="schedule" element={<ScheduleManagement />} />
          <Route path="routes" element={<RouteManagement />} />
          <Route path="students" element={<StudentManagement />} />
          <Route path="reports" element={<Reports />} />
        </Route>

        {/* Driver Routes */}
        <Route path="/driver" element={
          <ProtectedRoute requiredRole="driver">
            <DriverLayout />
          </ProtectedRoute>
        }>
          <Route index element={<Navigate to="/driver/dashboard" replace />} />
          <Route path="dashboard" element={<DriverDashboard />} />
          <Route path="schedule" element={<DriverSchedule />} />
          <Route path="trip" element={<Trip />} />
          <Route path="incident" element={<Incident />} />
          <Route path="history" element={<DriverHistory />} />
        </Route>

        {/* Parent Routes */}
        <Route path="/parent" element={
          <ProtectedRoute requiredRole="parent">
            <ParentLayout />
          </ProtectedRoute>
        }>
          <Route index element={<Navigate to="/parent/home" replace />} />
          <Route path="home" element={<ParentHome />} />
          <Route path="history" element={<ParentHistory />} />
          <Route path="notifications" element={<Notifications />} />
          <Route path="profile" element={<ParentProfile />} />
        </Route>

        {/* Default Redirect */}
        <Route path="/" element={<Navigate to="/login" replace />} />
        <Route path="*" element={<Navigate to="/login" replace />} />
      </Routes>
    </BrowserRouter>
  );
};

export default AppRouter;
```

---

## 3Ô∏è‚É£. FILE LAYOUT CHU·∫®N ‚Äì AdminLayout.jsx

```jsx
import React, { useState } from 'react';
import { Outlet, useNavigate, useLocation } from 'react-router-dom';
import { useAuth } from '../hooks/useAuth';

// Import Icons (c√≥ th·ªÉ d√πng react-icons ho·∫∑c custom icons)
import { 
  HiMenu, 
  HiX, 
  HiHome, 
  HiBus, 
  HiUserGroup, 
  HiClock, 
  HiMap, 
  HiAcademicCap,
  HiChartBar,
  HiLogout
} from 'react-icons/hi';

const AdminLayout = () => {
  const [sidebarOpen, setSidebarOpen] = useState(false);
  const { user, logout } = useAuth();
  const navigate = useNavigate();
  const location = useLocation();

  // Menu items cho sidebar
  const menuItems = [
    { name: 'Dashboard', path: '/admin/dashboard', icon: HiHome },
    { name: 'Qu·∫£n l√Ω xe bus', path: '/admin/buses', icon: HiBus },
    { name: 'Qu·∫£n l√Ω t√†i x·∫ø', path: '/admin/drivers', icon: HiUserGroup },
    { name: 'L·ªãch tr√¨nh', path: '/admin/schedule', icon: HiClock },
    { name: 'Tuy·∫øn ƒë∆∞·ªùng', path: '/admin/routes', icon: HiMap },
    { name: 'H·ªçc sinh', path: '/admin/students', icon: HiAcademicCap },
    { name: 'B√°o c√°o', path: '/admin/reports', icon: HiChartBar },
  ];

  const handleLogout = () => {
    logout();
    navigate('/login');
  };

  const isActiveRoute = (path) => {
    return location.pathname === path;
  };

  return (
    <div className="flex h-screen bg-gray-50">
      {/* Sidebar */}
      <div className={`fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out ${
        sidebarOpen ? 'translate-x-0' : '-translate-x-full'
      } lg:translate-x-0 lg:static lg:inset-0`}>
        
        {/* Sidebar Header */}
        <div className="flex items-center justify-between h-16 px-4 bg-blue-600">
          <h1 className="text-xl font-bold text-white">SSB Admin</h1>
          <button
            onClick={() => setSidebarOpen(false)}
            className="text-white lg:hidden"
          >
            <HiX className="w-6 h-6" />
          </button>
        </div>

        {/* Sidebar Navigation */}
        <nav className="mt-5 px-2">
          <ul className="space-y-1">
            {menuItems.map((item) => {
              const Icon = item.icon;
              return (
                <li key={item.name}>
                  <button
                    onClick={() => {
                      navigate(item.path);
                      setSidebarOpen(false);
                    }}
                    className={`w-full flex items-center px-2 py-2 text-sm font-medium rounded-md transition-colors duration-200 ${
                      isActiveRoute(item.path)
                        ? 'bg-blue-100 text-blue-700'
                        : 'text-gray-600 hover:bg-gray-100 hover:text-gray-900'
                    }`}
                  >
                    <Icon className="w-5 h-5 mr-3" />
                    {item.name}
                  </button>
                </li>
              );
            })}
          </ul>
        </nav>

        {/* User Info & Logout */}
        <div className="absolute bottom-0 w-full p-4 border-t">
          <div className="flex items-center mb-3">
            <div className="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center">
              <span className="text-white text-sm font-medium">
                {user?.name?.charAt(0) || 'A'}
              </span>
            </div>
            <div className="ml-3">
              <p className="text-sm font-medium text-gray-700">{user?.name || 'Admin'}</p>
              <p className="text-xs text-gray-500">Qu·∫£n tr·ªã vi√™n</p>
            </div>
          </div>
          <button
            onClick={handleLogout}
            className="w-full flex items-center px-2 py-2 text-sm text-red-600 hover:bg-red-50 rounded-md transition-colors duration-200"
          >
            <HiLogout className="w-4 h-4 mr-2" />
            ƒêƒÉng xu·∫•t
          </button>
        </div>
      </div>

      {/* Main Content Area */}
      <div className="flex-1 flex flex-col overflow-hidden lg:ml-0">
        {/* Header */}
        <header className="bg-white shadow-sm border-b border-gray-200">
          <div className="flex items-center justify-between h-16 px-4">
            <button
              onClick={() => setSidebarOpen(true)}
              className="text-gray-500 hover:text-gray-600 lg:hidden"
            >
              <HiMenu className="w-6 h-6" />
            </button>
            
            <div className="flex items-center space-x-4">
              <h2 className="text-lg font-semibold text-gray-800">
                {menuItems.find(item => isActiveRoute(item.path))?.name || 'Dashboard'}
              </h2>
            </div>

            <div className="flex items-center space-x-4">
              {/* Notification Bell */}
              <button className="text-gray-500 hover:text-gray-600">
                <div className="relative">
                  <span className="absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full"></span>
                  <span className="text-xl">üîî</span>
                </div>
              </button>
            </div>
          </div>
        </header>

        {/* Page Content */}
        <main className="flex-1 overflow-y-auto bg-gray-50">
          <div className="p-6">
            <Outlet />
          </div>
        </main>
      </div>

      {/* Mobile Overlay */}
      {sidebarOpen && (
        <div
          className="fixed inset-0 z-40 bg-black bg-opacity-50 lg:hidden"
          onClick={() => setSidebarOpen(false)}
        />
      )}
    </div>
  );
};

export default AdminLayout;
```

---

## 4Ô∏è‚É£. FILE G·ªêC ‚Äì App.jsx

```jsx
import React from 'react';
import { AuthProvider } from './context/AuthContext';
import { BusProvider } from './context/BusContext';
import { NotificationProvider } from './context/NotificationContext';
import AppRouter from './router/AppRouter';
import './App.css';

function App() {
  return (
    <div className="App">
      {/* Context Providers - Wrap to√†n b·ªô app ƒë·ªÉ chia s·∫ª state */}
      <AuthProvider>
        <BusProvider>
          <NotificationProvider>
            {/* Router ch√≠nh - qu·∫£n l√Ω t·∫•t c·∫£ routing */}
            <AppRouter />
          </NotificationProvider>
        </BusProvider>
      </AuthProvider>
    </div>
  );
}

export default App;
```

---

## üìù GHI CH√ö QUAN TR·ªåNG

### C√†i ƒë·∫∑t Dependencies c·∫ßn thi·∫øt:
```bash
npm install react-router-dom
npm install react-icons
npm install -D tailwindcss
```

### C·∫•u tr√∫c Context (AuthContext.jsx m·∫´u):
```jsx
import { createContext, useContext, useState, useEffect } from 'react';

const AuthContext = createContext();

export const useAuth = () => {
  const context = useContext(AuthContext);
  if (!context) {
    throw new Error('useAuth must be used within an AuthProvider');
  }
  return context;
};

export const AuthProvider = ({ children }) => {
  const [user, setUser] = useState(null);
  const [isAuthenticated, setIsAuthenticated] = useState(false);

  // Logic x·ª≠ l√Ω authentication...
  
  return (
    <AuthContext.Provider value={{ user, isAuthenticated, login, logout }}>
      {children}
    </AuthContext.Provider>
  );
};
```

### Tailwind CSS Classes ƒë∆∞·ª£c s·ª≠ d·ª•ng:
- `flex`, `grid` - Layout
- `bg-gray-50`, `bg-white`, `bg-blue-600` - Background colors
- `text-gray-600`, `text-white` - Text colors
- `p-4`, `px-2`, `py-2` - Padding
- `w-64`, `h-16` - Width/Height
- `rounded-md`, `shadow-lg` - Border radius & shadows
- `transition-colors`, `duration-200` - Animations

---

**üéØ K·∫øt qu·∫£:** File n√†y cung c·∫•p c·∫•u tr√∫c ho√†n ch·ªânh ƒë·ªÉ x√¢y d·ª±ng frontend React cho Smart School Bus Tracking System v·ªõi 3 module ng∆∞·ªùi d√πng ch√≠nh (Admin, Driver, Parent) v√† h·ªá th·ªëng authentication ƒë·∫ßy ƒë·ªß.