# HÆ°á»›ng Dáº«n Hiá»ƒn Thá»‹ Há»c Sinh TrÃªn Báº£n Äá»“ Khi Táº¡o Tuyáº¿n ÄÆ°á»ng

## ğŸ“‹ Tá»•ng Quan

TÃ­nh nÄƒng má»›i nÃ y cho phÃ©p ngÆ°á»i dÃ¹ng xem vá»‹ trÃ­ cá»§a táº¥t cáº£ há»c sinh trÃªn báº£n Ä‘á»“ khi táº¡o hoáº·c chá»‰nh sá»­a tuyáº¿n Ä‘Æ°á»ng. Äiá»u nÃ y giÃºp:

- âœ… **Dá»… dÃ ng xÃ¡c Ä‘á»‹nh vá»‹ trÃ­ há»c sinh** khi thiáº¿t káº¿ tuyáº¿n
- âœ… **Táº¡o Ä‘iá»ƒm dá»«ng chÃ­nh xÃ¡c** dá»±a trÃªn nÆ¡i á»Ÿ cá»§a há»c sinh
- âœ… **Tá»‘i Æ°u hÃ³a tuyáº¿n Ä‘Æ°á»ng** Ä‘á»ƒ phá»¥c vá»¥ nhiá»u há»c sinh nháº¥t
- âœ… **TrÃ¡nh bá» sÃ³t há»c sinh** khi láº­p káº¿ hoáº¡ch

## ğŸ¯ CÃ¡ch Sá»­ Dá»¥ng

### 1. Truy cáº­p trang Quáº£n lÃ½ Tuyáº¿n ÄÆ°á»ng

Äi Ä‘áº¿n: **Admin Panel** â†’ **Quáº£n lÃ½ Tuyáº¿n Ä‘Æ°á»ng** â†’ **ThÃªm tuyáº¿n má»›i** hoáº·c **Chá»‰nh sá»­a tuyáº¿n**

### 2. Báº­t hiá»ƒn thá»‹ há»c sinh

Trong sidebar bÃªn trÃ¡i, báº¡n sáº½ tháº¥y pháº§n **"Vá»‹ trÃ­ há»c sinh"**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ‘¥ Vá»‹ trÃ­ há»c sinh          [150]   â”‚
â”‚                  [Hiá»‡n há»c sinh]    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- Click nÃºt **"Hiá»‡n há»c sinh"** Ä‘á»ƒ hiá»ƒn thá»‹ táº¥t cáº£ há»c sinh trÃªn báº£n Ä‘á»“
- Há»‡ thá»‘ng sáº½ tá»± Ä‘á»™ng táº£i danh sÃ¡ch há»c sinh cÃ³ Ä‘á»‹a chá»‰ há»£p lá»‡
- Sá»‘ lÆ°á»£ng há»c sinh Ä‘Æ°á»£c hiá»ƒn thá»‹ trong badge

### 3. Xem thÃ´ng tin há»c sinh

TrÃªn báº£n Ä‘á»“, báº¡n sáº½ tháº¥y:

- ğŸŸ¢ **Markers mÃ u xanh lÃ¡**: Vá»‹ trÃ­ cá»§a há»c sinh
  - Click vÃ o marker Ä‘á»ƒ xem thÃ´ng tin chi tiáº¿t:
    - Há» tÃªn há»c sinh
    - Lá»›p
    - Äá»‹a chá»‰

### 4. Táº¡o Ä‘iá»ƒm dá»«ng dá»±a trÃªn vá»‹ trÃ­ há»c sinh

1. Quan sÃ¡t cÃ¡c clusters (cá»¥m) há»c sinh trÃªn báº£n Ä‘á»“
2. Click **"ThÃªm Ä‘iá»ƒm dá»«ng"**
3. Chá»n vá»‹ trÃ­ gáº§n cá»¥m há»c sinh
4. Hoáº·c sá»­ dá»¥ng chá»©c nÄƒng **"Äá» xuáº¥t"** Ä‘á»ƒ há»‡ thá»‘ng tá»± Ä‘á»™ng gá»£i Ã½ cÃ¡c Ä‘iá»ƒm dá»«ng tá»‘i Æ°u

### 5. Táº¯t hiá»ƒn thá»‹ há»c sinh

- Click nÃºt **"áº¨n há»c sinh"** Ä‘á»ƒ áº©n cÃ¡c markers
- Markers Ä‘iá»ƒm dá»«ng váº«n hiá»ƒn thá»‹ bÃ¬nh thÆ°á»ng

## ğŸ¨ Giao Diá»‡n

### MÃ u sáº¯c markers:

| MÃ u | Ã nghÄ©a |
|-----|---------|
| ğŸŸ¢ Xanh lÃ¡ | Há»c sinh |
| ğŸ”µ Xanh dÆ°Æ¡ng | Äiá»ƒm dá»«ng Ä‘Ã£ xÃ¡c nháº­n |
| ğŸŸ¡ VÃ ng | Äiá»ƒm dá»«ng Ä‘ang chá» (pending) |
| ğŸ”´ Äá» | Äiá»ƒm báº¯t Ä‘áº§u/káº¿t thÃºc |

### ThÃ´ng tin hiá»ƒn thá»‹:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸŸ¢ Äang hiá»ƒn thá»‹ 150 há»c sinh       â”‚
â”‚    trÃªn báº£n Ä‘á»“                      â”‚
â”‚                                     â”‚
â”‚ ğŸ’¡ Click vÃ o marker xanh Ä‘á»ƒ xem    â”‚
â”‚    thÃ´ng tin há»c sinh               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”§ TÃ­nh NÄƒng Ká»¹ Thuáº­t

### API Endpoint

```
GET /api/v1/students?limit=1000
```

**Response:**
```json
{
  "success": true,
  "data": [
    {
      "maHocSinh": 1,
      "hoTen": "Nguyá»…n VÄƒn A",
      "lop": "10A1",
      "diaChi": "123 Nguyá»…n Huá»‡, Q.1, TP.HCM",
      "viDo": 10.7769,
      "kinhDo": 106.7009
    }
  ]
}
```

### Lá»c há»c sinh

Há»‡ thá»‘ng chá»‰ hiá»ƒn thá»‹ há»c sinh:
- âœ… CÃ³ tá»a Ä‘á»™ `viDo` vÃ  `kinhDo`
- âœ… Tá»a Ä‘á»™ há»£p lá»‡ (khÃ´ng pháº£i `null`, `0`, hoáº·c `NaN`)
- âœ… Äang hoáº¡t Ä‘á»™ng (`trangThai = true`)

### Hiá»‡u nÄƒng

- Markers Ä‘Æ°á»£c cache trong `allStudentMarkersRef`
- Chá»‰ load dá»¯ liá»‡u má»™t láº§n khi báº­t láº§n Ä‘áº§u
- Sá»­ dá»¥ng `limit=1000` Ä‘á»ƒ láº¥y Ä‘á»§ dá»¯ liá»‡u (cÃ³ thá»ƒ tÄƒng náº¿u cáº§n)

## ğŸ› Xá»­ LÃ½ Lá»—i

### Há»c sinh khÃ´ng hiá»ƒn thá»‹ trÃªn báº£n Ä‘á»“?

**NguyÃªn nhÃ¢n cÃ³ thá»ƒ:**

1. **Há»c sinh chÆ°a cÃ³ Ä‘á»‹a chá»‰/tá»a Ä‘á»™**
   - Kiá»ƒm tra: VÃ o **Quáº£n lÃ½ Há»c sinh** â†’ Chi tiáº¿t há»c sinh
   - Giáº£i phÃ¡p: Cáº­p nháº­t Ä‘á»‹a chá»‰ vÃ  cháº¡y geocoding

2. **Tá»a Ä‘á»™ khÃ´ng há»£p lá»‡**
   - Tá»a Ä‘á»™ = `0`, `null`, hoáº·c `NaN`
   - Giáº£i phÃ¡p: Cháº¡y láº¡i geocoding cho há»c sinh

3. **Há»c sinh á»Ÿ xa quÃ¡**
   - Zoom out báº£n Ä‘á»“ Ä‘á»ƒ xem toÃ n bá»™
   - Hoáº·c pan (kÃ©o) báº£n Ä‘á»“ Ä‘áº¿n khu vá»±c khÃ¡c

### Lá»—i khi load dá»¯ liá»‡u?

```
"KhÃ´ng thá»ƒ táº£i danh sÃ¡ch há»c sinh"
```

**Kiá»ƒm tra:**
- Káº¿t ná»‘i internet
- Server backend Ä‘ang cháº¡y
- Token xÃ¡c thá»±c cÃ²n háº¡n

## ğŸ“Š VÃ­ Dá»¥ Use Case

### Case 1: Táº¡o tuyáº¿n má»›i cho khu vá»±c má»›i

1. Click **"ThÃªm tuyáº¿n má»›i"**
2. Báº­t **"Hiá»‡n há»c sinh"**
3. Quan sÃ¡t báº£n Ä‘á»“ â†’ Tháº¥y cÃ³ cluster 20 há»c sinh á»Ÿ Quáº­n 7
4. ThÃªm Ä‘iá»ƒm dá»«ng gáº§n cluster Ä‘Ã³
5. Tiáº¿p tá»¥c vá»›i cÃ¡c cluster khÃ¡c

### Case 2: Tá»‘i Æ°u tuyáº¿n hiá»‡n cÃ³

1. Chá»‰nh sá»­a tuyáº¿n Ä‘ang cÃ³
2. Báº­t **"Hiá»‡n há»c sinh"**
3. PhÃ¡t hiá»‡n cÃ³ 10 há»c sinh á»Ÿ giá»¯a 2 Ä‘iá»ƒm dá»«ng
4. ThÃªm Ä‘iá»ƒm dá»«ng trung gian Ä‘á»ƒ phá»¥c vá»¥ há»
5. LÆ°u tuyáº¿n

### Case 3: Kiá»ƒm tra coverage

1. Má»Ÿ tuyáº¿n Ä‘á»ƒ xem
2. Báº­t **"Hiá»‡n há»c sinh"**
3. Kiá»ƒm tra xem cÃ³ há»c sinh nÃ o bá»‹ bá» sÃ³t khÃ´ng
4. Äiá»u chá»‰nh Ä‘iá»ƒm dá»«ng náº¿u cáº§n

## ğŸš€ Cáº£i Tiáº¿n Trong TÆ°Æ¡ng Lai

- [ ] Filter há»c sinh theo lá»›p/khá»‘i
- [ ] Hiá»ƒn thá»‹ sá»‘ lÆ°á»£ng há»c sinh trong má»—i cluster
- [ ] Auto-suggest Ä‘iá»ƒm dá»«ng dá»±a trÃªn vá»‹ trÃ­ há»c sinh
- [ ] Highlight há»c sinh Ä‘Ã£ Ä‘Æ°á»£c assign vÃ o tuyáº¿n
- [ ] TÃ­nh khoáº£ng cÃ¡ch tá»« há»c sinh Ä‘áº¿n Ä‘iá»ƒm dá»«ng gáº§n nháº¥t

## ğŸ’¡ Tips

1. **Sá»­ dá»¥ng chá»©c nÄƒng Äá» xuáº¥t**: Sau khi báº­t hiá»ƒn thá»‹ há»c sinh, click "Äá» xuáº¥t" Ä‘á»ƒ há»‡ thá»‘ng tá»± Ä‘á»™ng táº¡o Ä‘iá»ƒm dá»«ng tá»‘i Æ°u

2. **Zoom phÃ¹ há»£p**: Zoom level 13-15 thÆ°á»ng lÃ  tá»‘t nháº¥t Ä‘á»ƒ tháº¥y tá»•ng quan vÃ  chi tiáº¿t

3. **Káº¿t há»£p vá»›i Search**: TÃ¬m kiáº¿m Ä‘á»‹a Ä‘iá»ƒm cá»¥ thá»ƒ rá»“i xem cÃ³ há»c sinh nÃ o gáº§n Ä‘Ã³ khÃ´ng

4. **Kiá»ƒm tra trÆ°á»›c khi lÆ°u**: LuÃ´n báº­t hiá»ƒn thá»‹ há»c sinh Ä‘á»ƒ kiá»ƒm tra coverage trÆ°á»›c khi lÆ°u tuyáº¿n

## ğŸ“ Há»— Trá»£

Náº¿u gáº·p váº¥n Ä‘á», vui lÃ²ng liÃªn há»‡:
- Email: support@schoolbus.vn
- Hotline: 1900-xxxx

---

**PhiÃªn báº£n**: 1.0.0  
**Cáº­p nháº­t**: 26/11/2025
